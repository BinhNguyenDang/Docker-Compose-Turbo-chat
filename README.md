# Turbochat

## Demo
https://github.com/BinhNguyenDang/Demo-Turbochat/assets/146049423/b44c4a06-5c43-4b8b-ad67-e0be8f68b250

# How to Set Up and Run the Application
This guide provides step-by-step instructions for cloning the application repository and running it using Docker Compose.
## Prerequisites
Make sure you have Docker and Docker Compose installed on your machine.
- Docker: https://docs.docker.com/engine/install/ubuntu/ (Example for ubuntu).
- Docker Compose: https://docs.docker.com/compose/install/
## Steps to Clone and Run the Application
1. Clone the Repository
First, clone the repository to your local machine using git:
```
git clone https://github.com/BinhNguyenDang/Docker-Compose-Turbo-chat.git
cd Docker-Compose-Turbo-chat
```
2. Build the Docker Images
Navigate to the root directory of the cloned repository and build the Docker images:
```
docker-compose build
```
![image](https://github.com/user-attachments/assets/4ff0bb79-f9f8-4eff-bc8a-2ce09a66e875)

3. Start the Services
Start the services defined in the docker-compose.yml file:
```
docker-compose up 
```
![image](https://github.com/user-attachments/assets/5cd87f39-10d4-4d05-8f04-3d1c2934db6c)
Or ( The -d flag runs the services in the background.)
```
docker-compose up -d
```
4. Access the Application
Once the services are running, you can access the application. For example, if your application runs a web server, open your web browser and go to:
```
http://localhost:3000
```
5. Stopping the Services
To stop the services without removing containers, networks, and volumes
```
crtl + c
```
![image](https://github.com/user-attachments/assets/5e7e6b58-b6fc-4c5b-a9bd-ac91002c6bb2)

To stop the services and remove the containers, networks, and volumes created by docker-compose up, run:
```
docker-compose down
```
![image](https://github.com/user-attachments/assets/f4c4de7d-cdf4-4333-a08d-9b4fe5342334)

Note: 
Rebuilding Images: If you make changes to your Dockerfiles or dependencies, rebuild the images:
```
docker compose build
```
## Database
```mermaid
erDiagram
    %% --------------------------------------------------------
    %% Generated by "Rails Mermaid ERD"
    %% https://github.com/koedame/rails-mermaid_erd
    %% Restore Hash: #eyJzZWxlY3RNb2RlbHMiOlsiQWN0aXZlU3RvcmFnZTo6QXR0YWNobWVudCIsIkFjdGl2ZVN0b3JhZ2U6OkJsb2IiLCJBY3RpdmVTdG9yYWdlOjpWYXJpYW50UmVjb3JkIiwiQXBwbGljYXRpb25Ob3RpZmllciIsIkFwcGxpY2F0aW9uTm90aWZpZXI6Ok5vdGlmaWNhdGlvbiIsIkNvbW1lbnROb3RpZmllciIsIkNvbW1lbnROb3RpZmllcjo6Tm90aWZpY2F0aW9uIiwiSm9pbmFibGUiLCJNZXNzYWdlIiwiTm90aWNlZDo6RXZlbnQiLCJOb3RpY2VkOjpOb3RpZmljYXRpb24iLCJQYXJ0aWNpcGFudCIsIlJvb20iLCJVc2VyIl0sImlzUHJldmlld1JlbGF0aW9ucyI6ZmFsc2UsImlzU2hvd1JlbGF0aW9uQ29tbWVudCI6ZmFsc2UsImlzU2hvd0tleSI6ZmFsc2UsImlzU2hvd0NvbW1lbnQiOmZhbHNlLCJpc0hpZGVDb2x1bW5zIjpmYWxzZX0=
    %% --------------------------------------------------------

    %% table name: active_storage_attachments
    %% table comment: 
    ActiveStorage--Attachment {
        integer id  
        string name  
        string record_type  
        integer record_id  
        integer blob_id  
        datetime created_at  
    }

    %% table name: active_storage_blobs
    %% table comment: 
    ActiveStorage--Blob {
        integer id  
        string key  
        string filename  
        string content_type  
        text metadata  
        string service_name  
        integer byte_size  
        string checksum  
        datetime created_at  
    }

    %% table name: active_storage_variant_records
    %% table comment: 
    ActiveStorage--VariantRecord {
        integer id  
        integer blob_id  
        string variation_digest  
    }

    %% table name: noticed_events
    %% table comment: 
    ApplicationNotifier {
        integer id  
        string type  
        string record_type  
        integer record_id  
        jsonb params  
        datetime created_at  
        datetime updated_at  
        integer notifications_count  
    }

    %% table name: noticed_notifications
    %% table comment: 
    ApplicationNotifier--Notification {
        integer id  
        string type  
        integer event_id  
        string recipient_type  
        integer recipient_id  
        datetime read_at  
        datetime seen_at  
        datetime created_at  
        datetime updated_at  
    }

    %% table name: noticed_events
    %% table comment: 
    CommentNotifier {
        integer id  
        string type  
        string record_type  
        integer record_id  
        jsonb params  
        datetime created_at  
        datetime updated_at  
        integer notifications_count  
    }

    %% table name: noticed_notifications
    %% table comment: 
    CommentNotifier--Notification {
        integer id  
        string type  
        integer event_id  
        string recipient_type  
        integer recipient_id  
        datetime read_at  
        datetime seen_at  
        datetime created_at  
        datetime updated_at  
    }

    %% table name: joinables
    %% table comment: 
    Joinable {
        integer id  
        integer user_id  
        integer room_id  
        datetime created_at  
        datetime updated_at  
    }

    %% table name: messages
    %% table comment: 
    Message {
        integer id  
        integer user_id  
        integer room_id  
        text body  
        datetime created_at  
        datetime updated_at  
    }

    %% table name: noticed_events
    %% table comment: 
    Noticed--Event {
        integer id  
        string type  
        string record_type  
        integer record_id  
        jsonb params  
        datetime created_at  
        datetime updated_at  
        integer notifications_count  
    }

    %% table name: noticed_notifications
    %% table comment: 
    Noticed--Notification {
        integer id  
        string type  
        integer event_id  
        string recipient_type  
        integer recipient_id  
        datetime read_at  
        datetime seen_at  
        datetime created_at  
        datetime updated_at  
    }

    %% table name: participants
    %% table comment: 
    Participant {
        integer id  
        integer user_id  
        integer room_id  
        datetime created_at  
        datetime updated_at  
    }

    %% table name: rooms
    %% table comment: 
    Room {
        integer id  
        string name  
        boolean is_private  
        datetime created_at  
        datetime updated_at  
        datetime last_message_at  
    }

    %% table name: users
    %% table comment: 
    User {
        integer id  
        string email  
        string encrypted_password  
        string reset_password_token  
        datetime reset_password_sent_at  
        datetime remember_created_at  
        datetime created_at  
        datetime updated_at  
        integer status  
        integer role  
        integer current_room  
        string username  
        string firstname  
        string lastname  
        date birthday  
    }

    ActiveStorage--Attachment |o--|| ActiveStorage--Blob : ""
    ActiveStorage--Blob ||--o{ ActiveStorage--VariantRecord : ""
    ActiveStorage--Blob }o..o| ActiveStorage--Blob : ""
    ActiveStorage--VariantRecord ||--o| ActiveStorage--Attachment : ""
    ActiveStorage--VariantRecord }o..o| ActiveStorage--Blob : ""
    Joinable }o--|| User : ""
    Joinable }o--|| Room : ""
    Message ||--o{ ActiveStorage--Attachment : ""
    Message }o..o{ ActiveStorage--Blob : ""
    Message }o--|| User : ""
    Message }o--|| Room : ""
    Participant }o--|| User : ""
    Participant }o--|| Room : ""
    Room }o..o{ User : ""
    Room ||--o{ Noticed--Event : ""
    User ||--o{ Noticed--Notification : ""
    User ||--o{ Noticed--Event : ""
    User ||--o| ActiveStorage--Attachment : ""
    User }o..o| ActiveStorage--Blob : ""
```


## Features

- Real-time Messaging: Utilizes Turbo and Stimulus to provide users with instant messaging capabilities, ensuring fast and responsive communication.
- Chatrooms and Direct Messaging: Users can engage in both group conversations through chatrooms and one-on-one conversations via direct messaging.
- Voice Record function.
- User Status: Displays user status indicators to show availability or activity, enhancing the overall messaging experience.
- ActiveStorage Integration: Implemented ActiveStorage for user avatar and attachment capabilities, allowing users to personalize their profiles and share files seamlessly.
- Search and Joinable Rooms: Users can easily search for and join existing chatrooms, facilitating community engagement and collaboration.
- Admin Functionality: Admin users have the ability to create chatrooms, manage user permissions, and moderate conversations as needed, ensuring a safe and organized messaging environment.
- In chat command function.
- Admin Dashboard with graphing of daily messages.
- User basic info page and recent activities displayed. 
  








